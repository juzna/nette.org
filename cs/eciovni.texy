Eciovni - generátor faktur
********************

Tento plugin umožňuje vytvářet faktury na základě Nette šablony a použití knihovny [mPDF | http://mpdf.bpm1.com/].

|Verze | 0.4
|Download | http://github.com/OndrejBrejla/Eciovni
|Ukázka | [PDF | attachment:invoice.pdf]
|Forum thread | http://forum.nette.org/cs/1710-generator-faktur-nette-sablony-mpdf
|Autor | Ondřej Brejla
|Licence | New BSD License

.[caution]
Komponenta je v rekonstrukci!

Instalace
---------

Stáhněte archiv z "GitHubu":https://github.com/OndrejBrejla/Nette-InvoiceControl a jeho obsah vložte do adresáře "app/controls". V archivu je soubor InvoicePresenter.php, v něm je ukázka použití kódu. Odstraňte ho z adresáře Invoice. Stáhněte [mPDF | http://mpdf.bpm1.com/download] a vložte ho do adresáře "libs" (Patrně budete muset zakázat indexování mPDF adresáře RobotLoaderem).

.[caution]
Nezapomeňte si stáhnout knihovnu [mPDF | http://www.mpdf1.com/mpdf/download]

Příklad použití
---------------
Následující kód vložte kam potřebujete (Presenter:action).
/--php
        // Creating new Invoice
        $invoice = new InvoiceControl(date('YmdHis'), 'Invoice - invoice number');

        // Definition of miscellaneous attributes
        $invoice->setVariableSymbol('1234');

        // Definition of DateTimes
        $dateNow = new DateTime();
        $invoice->setDateOfIssuance($dateNow);
        $dateExp = new DateTime();
        $dateExp->modify('+14 days');
        $invoice->setExpirationDate($dateExp);
        $invoice->setDateOfVatRevenueRecognition($dateNow);

        // Definition of Participants
        $supplier = new InvoiceParticipantImpl('John Doe', 'Nowhere', '11', 'Prague 3', '13000', '12345678', 'CZ12345678', '123456789 / 1111');
        $customer = new InvoiceParticipantImpl('Jane Doe', 'Somewhere', '3', 'Prague 9', '19000', '', '', '123456789 / 1111');
        $invoice->setSupplier($supplier);
        $invoice->setCustomer($customer);

        // Definition of Items
        $item = new InvoiceItemImpl('Test item 1', 1, 900, 1.19, TRUE);
        $invoice->addItem($item);

        $invoice->addItems(array(
            new InvoiceItemImpl('Test item 2', 1, 900, 1.19, TRUE),
            new InvoiceItemImpl('Test item 3', 1, 900, 1.19, TRUE),
        ));

        // Definition of new mPDF
        // Set constant and include according to your directories!!
        define('_MPDF_PATH', LIBS_DIR . '/mpdf2_5/');
        include_once(LIBS_DIR . '/mpdf2_5/mpdf.php');
        $mpdf = new mPDF('utf-8');

        // Exporting prepared Invoice to PDF
        // (use second and third parameter for saving invoice as a file - same parameters like mPDF->Output())
        $invoice->exportToPdf($mpdf);
\--

{{extras}}

{{author: Ondřej Brejla|1672}}
